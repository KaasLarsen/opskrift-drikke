/* === Opskrift-Drikke — Green Modern Theme v3 (clean, centered, robust) === */

/* -------- Color System -------- */
:root{
  --bg:#f6fbf8;
  --surface:#ffffff;
  --ink:#0f1712;
  --muted:#66746b;
  --brand:#18a56d;
  --brand-2:#0f7f55;
  --line:#e3ebe6;
  --ring:rgba(24,165,109,.32);
  --shadow:0 12px 24px rgba(8,24,20,.08), 0 2px 8px rgba(8,24,20,.06);
  --shadow-sm:0 6px 14px rgba(8,24,20,.06), 0 1px 4px rgba(8,24,20,.05);
}

/* Dark theme */
[data-theme="dark"],
@media (prefers-color-scheme: dark){
  :root{
    --bg:#0d1410;
    --surface:#0f1914;
    --ink:#e7f4ed;
    --muted:#a6b5ad;
    --brand:#27c184;
    --brand-2:#1ca070;
    --line:#213328;
    --ring:rgba(39,193,132,.38);
    --shadow:0 12px 24px rgba(0,0,0,.42), 0 2px 8px rgba(0,0,0,.32);
    --shadow-sm:0 6px 14px rgba(0,0,0,.38), 0 1px 4px rgba(0,0,0,.28);
  }
}

/* -------- Base -------- */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:16px/1.6 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  color:var(--ink);
  background:var(--bg);
  text-rendering:optimizeLegibility;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}
a{color:inherit;text-decoration:none}
img{max-width:100%;display:block}
h1,h2,h3{margin:0 0 10px}
h1{font-size:40px; line-height:1.15}
h2{font-size:24px}
h3{font-size:19px}
p{margin:0 0 12px}

/* -------- Layout -------- */
.container{max-width:1120px; margin:0 auto; padding:0 20px}

/* -------- Header -------- */
.site-header{
  position:sticky; top:0; z-index:30;
  background:rgba(255,255,255,.85);
  backdrop-filter:blur(8px);
  border-bottom:1px solid var(--line);
}
[data-theme="dark"] .site-header{background:rgba(15,25,20,.7)}
.site-header .inner{display:flex; align-items:center; gap:14px; height:64px}
.logo{display:flex; align-items:center; gap:10px; font-weight:800}
.logo-ico{width:24px; height:24px; color:var(--brand)}
nav{margin-left:auto; display:flex; align-items:center; gap:8px}
nav a{padding:8px 10px; border-radius:10px}
nav a:hover{background:rgba(24,165,109,.10)}

/* -------- Hero -------- */
.hero{
  padding:30px 0 16px;
  background:
    radial-gradient(900px 300px at 20% -10%, rgba(24,165,109,.12), transparent 60%),
    radial-gradient(600px 240px at 100% 0%, rgba(24,165,109,.10), transparent 60%);
}
.hero h1{font-size:44px}
.hero-sub{color:var(--muted); font-size:18px}
.hero-search-wrap{position:relative; max-width:420px}
.hero-search{
  display:flex; align-items:center; gap:10px;
  padding:12px 14px;
  border-radius:16px;
  background:#fff7f2;
  border:1px solid rgba(249,115,22,.4);
  box-shadow:0 2px 8px rgba(249,115,22,.1);
}
.hero-search input{
  width:100%; background:transparent;
  border:none; outline:none;
  font-size:16px; color:var(--ink);
}
.hero-search input::placeholder{color:#a1775c}

/* -------- Søgeforslag / Autocomplete -------- */
#suggestions {
  position: absolute;
  top: 100%;
  left: 0;
  right: 0;
  margin-top: 6px;
  z-index: 50;
  background: #fff;
  border: 1px solid rgba(249,115,22,0.25);
  border-radius: 14px;
  box-shadow: 0 8px 24px rgba(0,0,0,0.08);
  overflow: hidden;
  max-height: 320px;
  overflow-y: auto;
  display: none; /* JS viser det */
}
#suggestions.active { display: block; }

#suggestions div {
  padding: 10px 14px;
  cursor: pointer;
  font-size: 15px;
  border-bottom: 1px solid rgba(0,0,0,0.04);
}
#suggestions div:last-child { border-bottom: none; }
#suggestions div:hover { background: #fff7f2; }
#suggestions .suggest-meta {
  display: block;
  color: #666;
  font-size: 13px;
  margin-top: 2px;
}

/* -------- Cards -------- */
.card{
  display:flex; flex-direction:column;
  border:1px solid var(--line);
  border-radius:18px;
  background:var(--surface);
  box-shadow:var(--shadow-sm);
  transition:transform .15s ease;
}
.card:hover{transform:translateY(-3px)}

/* -------- Footer -------- */
.site-footer{
  margin-top:24px;
  padding:22px 0;
  border-top:1px solid var(--line);
  color:var(--muted);
  text-align:center;
}

/* -------- Input neutralisering -------- */
input {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
  background-clip: padding-box;
  -webkit-appearance: none;
  appearance: none;
}
input::-webkit-search-decoration,
input::-webkit-search-cancel-button,
input::-webkit-search-results-button,
input::-webkit-search-results-decoration {
  display: none !important;
}

/* -------- Responsive -------- */
@media (max-width:860px){
  h1{font-size:36px}
}
@media (max-width:640px){
  h1{font-size:30px}
}
// /js/pricerunner-rotator.js
// PriceRunner-karussel med venstre/højre pile

const WIDGETS = [
  {
    id: 'pr-product-widget-5ef258a0',
    src: 'https://api.pricerunner.com/publisher-widgets/dk/product.js?onlyInStock=true&offerOrigin=NATIONAL&offerLimit=4&productId=3385670828&partnerId=adrunner_dk_opskrift-drikke&widgetId=pr-product-widget-5ef258a0',
    link: 'https://www.pricerunner.dk/pl/84-3385670828/Blendere/Ninja-Detect-TB301EU-Blender-Pro-Sammenlign-Priser'
  },
  {
    id: 'pr-product-widget-7b9e4810',
    src: 'https://api.pricerunner.com/publisher-widgets/dk/product.js?onlyInStock=true&offerOrigin=NATIONAL&offerLimit=4&productId=3673343&partnerId=adrunner_dk_opskrift-drikke&widgetId=pr-product-widget-7b9e4810',
    link: 'https://www.pricerunner.dk/pl/82-3673343/Kaffemaskiner/DeLonghi-Magnifica-S-ECAM-21.117.B-Sammenlign-Priser'
  },
  {
    id: 'pr-product-widget-8870c090',
    src: 'https://api.pricerunner.com/publisher-widgets/dk/product.js?onlyInStock=true&offerOrigin=NATIONAL&offerLimit=4&productId=3299718083&partnerId=adrunner_dk_opskrift-drikke&widgetId=pr-product-widget-8870c090',
    link: 'https://www.pricerunner.dk/pl/84-3299718083/Blendere/Nutribullet-Pro-900-NB907MAB-Sammenlign-Priser'
  }
];

let currentIndex = 0;

function clear(node) {
  while (node.firstChild) node.removeChild(node.firstChild);
}

function createWidgetFrame(w) {
  const holder = document.createElement('div');
  holder.id = w.id;
  holder.style.display = 'block';
  holder.style.width = '100%';

  const script = document.createElement('script');
  script.type = 'text/javascript';
  script.src = w.src;
  script.async = true;

  const disc = document.createElement('div');
  disc.style.display = 'inline-block';
  disc.innerHTML = `
    <a href="${w.link}" rel="nofollow">
      <p style="font:14px 'Klarna Text', Helvetica, sans-serif; font-style:italic; color:#444; text-decoration:underline;">
        Annonce i samarbejde med <span style="font-weight:bold">PriceRunner</span>
      </p>
    </a>`;

  const wrap = document.createElement('div');
  wrap.appendChild(holder);
  wrap.appendChild(disc);
  document.body.appendChild(script);

  return wrap;
}

function renderWidget(slot, index) {
  clear(slot);
  const w = WIDGETS[index];
  const frame = createWidgetFrame(w);

  const card = document.createElement('div');
  card.className = 'card bg-white p-4 border rounded-2xl relative';

  const label = document.createElement('div');
  label.className = 'text-sm opacity-70 mb-2';
  label.textContent = 'Annonce i samarbejde med PriceRunner';
  card.appendChild(label);
  card.appendChild(frame);

  // Pile
  const left = document.createElement('button');
  left.innerHTML = '◀';
  left.className = 'absolute left-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-orange-500 text-2xl';
  left.onclick = () => {
    currentIndex = (currentIndex - 1 + WIDGETS.length) % WIDGETS.length;
    renderWidget(slot, currentIndex);
  };

  const right = document.createElement('button');
  right.innerHTML = '▶';
  right.className = 'absolute right-2 top-1/2 -translate-y-1/2 text-gray-500 hover:text-orange-500 text-2xl';
  right.onclick = () => {
    currentIndex = (currentIndex + 1) % WIDGETS.length;
    renderWidget(slot, currentIndex);
  };

  card.appendChild(left);
  card.appendChild(right);

  slot.appendChild(card);
}

export function mountPR(selector = '#pr-home-slot') {
  const slot = document.querySelector(selector);
  if (!slot) return;

  const observer = new IntersectionObserver((entries) => {
    if (entries.some(e => e.isIntersecting)) {
      observer.disconnect();
      renderWidget(slot, currentIndex);
    }
  }, { rootMargin: '200px' });
  observer.observe(slot);
}

document.addEventListener('DOMContentLoaded', () => {
  mountPR('#pr-home-slot');
});
/* Guides: neutraliser floats og max-bredde i indlejret HTML */
#guideContent, #guideContent * {
  text-align: left;
}
#guideContent img { max-width: 100%; height: auto; }

/* ----- Guide visning ----- */
.guide-article h2{
  margin: 20px 0 10px;
  font-size: 22px;
  font-weight: 600;
}
.guide-article ol{ margin-left: 1.25rem; list-style: decimal; }
.guide-article ul{ margin-left: 1.25rem; list-style: disc; }
.guide-article p{ margin: 8px 0; }

.faq-card{
  border: 1px solid var(--line, #e5e7eb);
  background: var(--surface, #fff);
  border-radius: 16px;
  padding: 16px;
  box-shadow: var(--shadow-sm, 0 6px 14px rgba(0,0,0,.06));
}
.faq-card h2{ margin-top: 0; }
.faq-item{ border-top: 1px dashed var(--line, #e5e7eb); padding-top: 10px; margin-top: 10px; }
.faq-item:first-child{ border-top: 0; padding-top: 0; margin-top: 0; }
.faq-item summary{ cursor: pointer; font-weight: 600; }

/* Ens search-input uden WebKit-dekorationer (fixer den vandrette streg) */
input[type="search"] {
  -webkit-appearance: none;
  appearance: none;
  background-clip: padding-box;
}

input[type="search"]::-webkit-search-decoration,
input[type="search"]::-webkit-search-cancel-button,
input[type="search"]::-webkit-search-results-button,
input[type="search"]::-webkit-search-results-decoration {
  display: none;
}
